Index: x64/Release/DllMain.Build.CppClean.log
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>c:\\work\\workspace\\c++\\dllmain\\x64\\release\\dllmain.tlog\\cl.command.1.tlog\r\nc:\\work\\workspace\\c++\\dllmain\\x64\\release\\dllmain.tlog\\metagen.write.1.tlog\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/x64/Release/DllMain.Build.CppClean.log b/x64/Release/DllMain.Build.CppClean.log
--- a/x64/Release/DllMain.Build.CppClean.log	(revision 79530356fcffe4b99ea761efb52abe3d2f7a793f)
+++ b/x64/Release/DllMain.Build.CppClean.log	(date 1629866530118)
@@ -1,2 +1,17 @@
-c:\work\workspace\c++\dllmain\x64\release\dllmain.tlog\cl.command.1.tlog
+c:\work\workspace\c++\dllmain\x64\release\dllmain.pch
+c:\work\workspace\c++\dllmain\x64\release\vc142.pdb
+c:\work\workspace\c++\dllmain\x64\release\pch.obj
+c:\work\workspace\c++\dllmain\x64\release\dllmain.obj
+c:\work\workspace\c++\dllmain\x64\release\.netframework,version=v4.0.assemblyattributes.obj
+c:\work\workspace\c++\dllmain\x64\release\dllmain.dll
+c:\work\workspace\c++\dllmain\x64\release\dllmain.pdb
 c:\work\workspace\c++\dllmain\x64\release\dllmain.tlog\metagen.write.1.tlog
+c:\work\workspace\c++\dllmain\x64\release\dllmain.dll.metagen
+c:\work\workspace\c++\dllmain\x64\release\dllmain.tlog\cl.command.1.tlog
+c:\work\workspace\c++\dllmain\x64\release\dllmain.tlog\cl.read.1.tlog
+c:\work\workspace\c++\dllmain\x64\release\dllmain.tlog\cl.write.1.tlog
+c:\work\workspace\c++\dllmain\x64\release\dllmain.tlog\link.command.1.tlog
+c:\work\workspace\c++\dllmain\x64\release\dllmain.tlog\link.read.1.tlog
+c:\work\workspace\c++\dllmain\x64\release\dllmain.tlog\link.write.1.tlog
+c:\work\workspace\c++\dllmain\x64\release\dllmain.tlog\metagen.read.1.tlog
+c:\work\workspace\c++\dllmain\x64\release\dllmain.tlog\csdllmain.dll.metagen
Index: dllmain.cpp
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>// dllmain.cpp : 定义 DLL 应用程序的入口点。\r\n// 属性-高级-公共语言运行时支持  公共语言运行时支持(/clr)\r\n// 属性-C/C++-语言  否\r\n// CSDllMain.dll 的 DLL 要放到目标程序下\r\n\r\n#include \"pch.h\"\r\n#include<windows.h>\r\n#include<iostream>\r\n#include<cstdio>\r\n#include \"dllmain.h\"\r\n#using \"CSDllMain.dll\"\r\n\r\nusing namespace CSDllMain;\r\n\r\n\r\nBOOL APIENTRY DllMain( HMODULE hModule,\r\n                       DWORD  ul_reason_for_call,\r\n                       LPVOID lpReserved\r\n                     )\r\n{\r\n\r\n    switch (ul_reason_for_call)\r\n    {\r\n    // DLL_PROCESS_ATTACH: 进程第一次加载时通知\r\n    case DLL_PROCESS_ATTACH:\r\n        injection_net();\r\n        break;\r\n    // DLL_THREAD_ATTACH: 新线程创建时通知\r\n    case DLL_THREAD_ATTACH:\r\n        break;\r\n\r\n    // DLL_THREAD_DETACH: 线程消亡时通知\r\n    case DLL_THREAD_DETACH:\r\n        break;\r\n\r\n    // DLL_PROCESS_DETACH: 进程卸载dll时通知 \r\n    case DLL_PROCESS_DETACH:\r\n        break;\r\n    }\r\n    return TRUE;\r\n}\r\n\r\nvoid injection_net() {\r\n    MessageBox(NULL, TEXT(\"C++ DLL Injection Successful\"), TEXT(\"Title\"), MB_OK);\r\n    Class1^ testClass = gcnew Class1();\r\n    testClass->hook();\r\n}\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/dllmain.cpp b/dllmain.cpp
--- a/dllmain.cpp	(revision 79530356fcffe4b99ea761efb52abe3d2f7a793f)
+++ b/dllmain.cpp	(date 1629866526564)
@@ -35,6 +35,7 @@
 
     // DLL_PROCESS_DETACH: 进程卸载dll时通知 
     case DLL_PROCESS_DETACH:
+        MessageBox(NULL, TEXT("C++ DLL Uninjection Successful"), TEXT("Title"), MB_OK);
         break;
     }
     return TRUE;
@@ -42,7 +43,7 @@
 
 void injection_net() {
     MessageBox(NULL, TEXT("C++ DLL Injection Successful"), TEXT("Title"), MB_OK);
-    Class1^ testClass = gcnew Class1();
-    testClass->hook();
+    // Class1^ testClass = gcnew Class1();
+    // testClass->hook();
 }
 
